<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="About MCM — Reclaim your identity. Realign your energy. Build your legacy—without leaving the 9–5."
    />
    <title>About | MCM</title>

    <!-- Bulma -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="style.css" />

    <style>
      .about-hero {
        width: 100%;
        padding: 0;
        margin: 0;
        line-height: 0;
        background: transparent;
      }
      .about-hero img {
        width: 100%;
        height: clamp(280px, 70vh, 640px);
        object-fit: cover;
        display: block;
      }

      .about-section {
        background-color: var(--soft-gray);
        padding: 3rem 1rem 5rem;
        text-align: center;
      }

      .about-section h1 {
        color: var(--navy);
        font-size: 1.7rem;
        font-weight: 800;
        margin-bottom: 2rem;
      }

      /* Scrollable card container */
      .card-scroll-wrapper {
        max-width: 1000px;
        margin: 0 auto;
      }

      .card-scroll-container {
        display: flex;
        overflow-x: auto;
        gap: 2rem;
        padding: 2rem;
        justify-content: flex-start;
        scroll-snap-type: x mandatory;
        scroll-behavior: smooth;
      }

      /* Hide scrollbar */
      .card-scroll-container::-webkit-scrollbar {
        display: none;
      }

      /* Card styles */
      .about-card {
        flex: 0 0 80%;
        max-width: 800px;
        background: white;
        border-radius: 12px;
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
        padding: 2.5rem;
        scroll-snap-align: center;
      }

      .about-card.small {
        flex: 0 0 60%;
        opacity: 0.6;
        transform: scale(0.95);
      }

      .about-card h2 {
        color: var(--navy);
        font-size: 1.8rem;
        font-weight: 800;
        margin-bottom: 1.2rem;
      }

      .about-card p {
        color: var(--ink2);
        line-height: 1.6;
        font-size: 1rem;
      }

      @media (max-width: 768px) {
        .about-card {
          flex: 0 0 90%;
          padding: 2rem;
        }
      }
    </style>
  </head>

  <body>
    <div id="authArea">
      <!-- Navbar -->
      <header>
        <nav
          class="navbar is-dark"
          role="navigation"
          aria-label="main navigation"
        >
          <div class="navbar-brand">
            <a
              class="navbar-item brand-logo-link"
              href="Home.html"
              aria-current="page"
              aria-label="MCM — Home"
            >
              <img
                src="images/logo_white_gold_blue.png"
                alt="MCM home"
                class="brand-logo"
                loading="eager"
              />
            </a>
            <a
              role="button"
              class="navbar-burger"
              aria-label="menu"
              aria-expanded="false"
              data-target="navbarBasic"
            >
              <span aria-hidden="true"></span>
              <span aria-hidden="true"></span>
              <span aria-hidden="true"></span>
            </a>
          </div>

          <div id="navbarBasic" class="navbar-menu">
            <div class="navbar-end">
              <a class="navbar-item" href="Home.html">Home</a>
              <a
                class="navbar-item active-page"
                href="about.html"
                aria-current="page"
                >About</a
              >
              <a class="navbar-item" href="blog.html">Blog</a>
              <a class="navbar-item" href="Contact.html">Contact</a>
              <!-- Signed-out buttons -->
              <div class="navbar-item" data-auth="signed-out">
                <div class="buttons">
                  <a
                    class="button cta-primary is-small is-rounded"
                    href="#auth"
                    aria-label="Sign in"
                  >
                    Sign In
                  </a>
                  <a
                    class="button cta-primary is-small is-rounded"
                    href="#auth"
                    aria-label="Create account"
                  >
                    Sign Up
                  </a>
                </div>
              </div>

              <!-- Signed-in section -->
              <div
                class="navbar-item"
                data-auth="signed-in"
                style="display: none"
              >
                <span class="has-text-gold" id="navUserEmail"
                  >Welcome, User</span
                >
              </div>
              <div
                class="navbar-item"
                data-auth="signed-in"
                style="display: none"
              >
                <a
                  class="button is-light is-small is-rounded"
                  id="signOutBtn"
                  href="#"
                >
                  Sign Out
                </a>
              </div>
            </div>
          </div>
        </nav>
      </header>

      <section class="about-hero">
        <img
          src="https://images.unsplash.com/photo-1519389950473-47ba0277781c?q=80&w=1600&auto=format&fit=crop"
          alt="Work placeholder"
        />
      </section>

      <section class="about-section">
        <h1>Title Something about Me</h1>
        <div class="card-scroll-wrapper">
          <div class="card-scroll-container" id="cardScroller">
            <div class="about-card small">
              <h2>Before MCM</h2>
              <p>
                Lorem ipsum, dolor sit amet consectetur adipisicing elit.
                Accusamus cum accusantium ab consequatur debitis esse? Similique
                tempore voluptatem rem sequi?
              </p>
            </div>

            <!-- Main card -->
            <div class="about-card" id="mainCard">
              <h2>Who is Dawnell Kelly?</h2>
              <p>
                Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ipsam
                eligendi architecto, quasi illo iure similique. Libero tempora
                iusto sit placeat.
              </p>
              <br />
              <p>
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Libero
                amet sequi ducimus fugiat, repudiandae veritatis iste labore
                reiciendis tempora exercitationem.
              </p>
            </div>

            <!-- Right small card -->
            <div class="about-card small">
              <h2>Beyond MCM</h2>
              <p>
                Lorem ipsum dolor sit amet consectetur adipisicing elit.
                Temporibus dolores obcaecati ullam distinctio rerum. Aut culpa
                deleniti consequuntur reiciendis velit!
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Auth Modal -->
      <div id="authModal" class="modal">
        <div class="modal-background"></div>
        <div class="modal-card">
          <header class="modal-card-head">
            <p class="modal-card-title" id="modalTitle">Sign In</p>
            <button class="delete" aria-label="close"></button>
          </header>
          <section class="modal-card-body">
            <!-- Sign In -->
            <form id="signInForm" style="display: block">
              <div class="field">
                <label class="label">Email</label>
                <div class="control has-icons-left">
                  <input
                    id="signInEmail"
                    class="input"
                    type="email"
                    placeholder="you@example.com"
                  />
                  <span class="icon is-small is-left"
                    ><i class="fas fa-envelope"></i
                  ></span>
                </div>
              </div>
              <div class="field">
                <label class="label">Password</label>
                <div class="control has-icons-left">
                  <input
                    id="signInPassword"
                    class="input"
                    type="password"
                    placeholder="••••••"
                  />
                  <span class="icon is-small is-left"
                    ><i class="fas fa-lock"></i
                  ></span>
                </div>
              </div>
              <button
                class="button cta-primary is-fullwidth mt-4"
                type="submit"
              >
                Sign In
              </button>
              <p class="mt-3 has-text-centered">
                Don't have an account?
                <a id="switchToSignUp">Sign Up</a>
              </p>
            </form>

            <!-- Sign Up -->
            <form id="signUpForm" style="display: none">
              <div class="field">
                <label class="label">Email</label>
                <div class="control has-icons-left">
                  <input
                    id="signUpEmail"
                    class="input"
                    type="email"
                    placeholder="you@example.com"
                  />
                  <span class="icon is-small is-left"
                    ><i class="fas fa-envelope"></i
                  ></span>
                </div>
              </div>
              <div class="field">
                <label class="label">Password</label>
                <div class="control has-icons-left">
                  <input
                    id="signUpPassword"
                    class="input"
                    type="password"
                    placeholder="At least 6 characters"
                  />
                  <span class="icon is-small is-left"
                    ><i class="fas fa-lock"></i
                  ></span>
                </div>
              </div>
              <button
                class="button cta-primary is-fullwidth mt-4"
                type="submit"
              >
                Create Account
              </button>
              <p class="mt-3 has-text-centered">
                Already have an account?
                <a id="switchToSignIn">Sign In</a>
              </p>
            </form>
          </section>
        </div>
      </div>

      <!-- Footer -->
      <footer class="footer isyellow">
        <div class="container">
          <div class="content has-text-centered">
            <p>
              <strong class="has-text-white">MCM</strong> &copy; by Team 3 IS424
              &nbsp;|&nbsp; 2025. All rights reserved.
            </p>
            <div class="social-icons mt-4">
              <a
                href="https://www.linkedin.com/in/dawnellkelly/"
                class="has-text-white mr-4"
                ><i class="fab fa-linkedin fa-lg"></i
              ></a>
              <a href="#" class="has-text-white mr-4"
                ><i class="fab fa-instagram fa-lg"></i
              ></a>
              <a
                href="https://www.youtube.com/@theoptimizedveteran"
                target="_blank"
                class="has-text-white"
                ><i class="fab fa-youtube fa-lg"></i
              ></a>
            </div>
          </div>
        </div>
      </footer>

      <script>
        // Mobile navbar toggle
        document.addEventListener("DOMContentLoaded", () => {
          const burger = document.querySelector(".navbar-burger");
          const menu = document.getElementById("navbarBasic");
          if (burger && menu) {
            burger.addEventListener("click", () => {
              burger.classList.toggle("is-active");
              menu.classList.toggle("is-active");
            });
          }

          const scroller = document.getElementById("cardScroller");
          const mainCard = document.getElementById("mainCard");
          if (scroller && mainCard) {
            const centerTo = () => {
              const targetLeft =
                mainCard.offsetLeft -
                (scroller.clientWidth - mainCard.clientWidth) / 2;
              scroller.scrollTo({
                left: targetLeft,
                behavior: "instant" in window ? "instant" : "auto",
              });
            };
            requestAnimationFrame(centerTo);

            scroller.querySelectorAll(".about-card").forEach((card) => {
              card.addEventListener("click", () => {
                const left =
                  card.offsetLeft -
                  (scroller.clientWidth - card.clientWidth) / 2;
                scroller.scrollTo({ left, behavior: "smooth" });
              });
            });
          }
        });
      </script>
      <!-- Navbar toggle -->

      <script>
        document.addEventListener("DOMContentLoaded", () => {
          const modal = document.getElementById("authModal");
          const closeBtn = modal.querySelector(".delete");
          const modalBg = modal.querySelector(".modal-background");
          const openButtons = document.querySelectorAll(
            'a[aria-label="Sign in"], a[aria-label="Create account"]'
          );

          const signInForm = document.getElementById("signInForm");
          const signUpForm = document.getElementById("signUpForm");
          const modalTitle = document.getElementById("modalTitle");
          const switchToSignUp = document.getElementById("switchToSignUp");
          const switchToSignIn = document.getElementById("switchToSignIn");

          openButtons.forEach((btn) => {
            btn.addEventListener("click", (e) => {
              e.preventDefault();
              modal.classList.add("is-active");
              if (btn.getAttribute("aria-label") === "Sign in") {
                signInForm.style.display = "block";
                signUpForm.style.display = "none";
                modalTitle.textContent = "Sign In";
              } else {
                signInForm.style.display = "none";
                signUpForm.style.display = "block";
                modalTitle.textContent = "Sign Up";
              }
            });
          });

          [closeBtn, modalBg].forEach((el) =>
            el.addEventListener("click", () =>
              modal.classList.remove("is-active")
            )
          );

          switchToSignUp.addEventListener("click", (e) => {
            e.preventDefault();
            signInForm.style.display = "none";
            signUpForm.style.display = "block";
            modalTitle.textContent = "Sign Up";
          });
          switchToSignIn.addEventListener("click", (e) => {
            e.preventDefault();
            signUpForm.style.display = "none";
            signInForm.style.display = "block";
            modalTitle.textContent = "Sign In";
          });
        });
      </script>

      <!-- Firebase Authentication Logic -->
      <script type="module">
        // Use ESM CDN imports for browsers (no bundler)
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-app.js";
        import {
          getAuth,
          onAuthStateChanged,
          createUserWithEmailAndPassword,
          signInWithEmailAndPassword,
          signOut,
        } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-auth.js";
        // (Optional) Analytics — only if you want it
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-analytics.js";

        // Your Firebase config (keep exactly as the console shows)
        const firebaseConfig = {
          apiKey: "AIzaSyBeFawpN7RtHgCVoJWXtPVbLO3iU8gz8xQ",
          authDomain: "is424-term-project.firebaseapp.com",
          projectId: "is424-term-project",
          storageBucket: "is424-term-project.appspot.com", // <- verify in console; adjust if needed
          messagingSenderId: "571020263691",
          appId: "1:571020263691:web:73fb6c4519dff2caf0e20e",
          measurementId: "G-FL49EFV0B1",
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        // Optional analytics (safe to remove if not used)
        getAnalytics(app);

        // Initialize Auth
        const auth = getAuth(app);

        // DOM elements
        const authArea = document.getElementById("authArea");
        const navUserEmail = document.getElementById("navUserEmail");
        const signOutBtn = document.getElementById("signOutBtn");
        const inlineSignOutBtn = document.getElementById("inlineSignOutBtn");
        const welcomeSection = document.getElementById("welcomeSection");
        const welcomeUserEmail = document.getElementById("welcomeUserEmail");
        const signInForm = document.getElementById("signInForm");
        const signUpForm = document.getElementById("signUpForm");
        const signInError = document.getElementById("signInError");
        const signUpError = document.getElementById("signUpError");

        function toggleAuthUI(isSignedIn, email = "") {
          authArea
            .querySelectorAll('[data-auth="signed-in"]')
            .forEach((el) => (el.style.display = isSignedIn ? "" : "none"));
          authArea
            .querySelectorAll('[data-auth="signed-out"]')
            .forEach((el) => (el.style.display = isSignedIn ? "none" : ""));
          document.getElementById("auth").style.display = isSignedIn
            ? "none"
            : "";
          welcomeSection.style.display = isSignedIn ? "" : "none";
          if (isSignedIn) {
            if (navUserEmail) navUserEmail.textContent = email;
            if (welcomeUserEmail) welcomeUserEmail.textContent = email;
          }
        }

        function showError(el, msg) {
          if (!el) return;
          el.textContent = msg;
          el.style.display = msg ? "" : "none";
        }

        function mapError(code) {
          const errors = {
            "auth/invalid-email": "Invalid email address.",
            "auth/missing-password": "Please enter your password.",
            "auth/weak-password": "Password must be at least 6 characters.",
            "auth/email-already-in-use": "This email is already registered.",
            "auth/user-not-found": "No account found with this email.",
            "auth/wrong-password": "Incorrect email or password.",
            "auth/invalid-credential": "Incorrect email or password.",
          };
          return errors[code] || "Authentication error. Please try again.";
        }

        // Observe auth state
        onAuthStateChanged(auth, (user) => {
          if (user && user.email) {
            toggleAuthUI(true, user.email);
          } else {
            toggleAuthUI(false);
          }
        });

        // Sign In
        signInForm?.addEventListener("submit", async (e) => {
          e.preventDefault();
          showError(signInError, "");
          const email = document.getElementById("signInEmail").value.trim();
          const password = document.getElementById("signInPassword").value;
          try {
            await signInWithEmailAndPassword(auth, email, password);
            // UI flips via onAuthStateChanged
          } catch (err) {
            showError(signInError, mapError(err.code));
            console.error(err);
          }
        });

        // Sign Up
        signUpForm?.addEventListener("submit", async (e) => {
          e.preventDefault();
          showError(signUpError, "");
          const email = document.getElementById("signUpEmail").value.trim();
          const password = document.getElementById("signUpPassword").value;
          try {
            await createUserWithEmailAndPassword(auth, email, password);
            // UI flips via onAuthStateChanged
          } catch (err) {
            showError(signUpError, mapError(err.code));
            console.error(err);
          }
        });

        // Sign Out (both buttons)
        async function handleSignOut(e) {
          e.preventDefault();
          try {
            await signOut(auth);
          } catch (err) {
            alert("Sign out failed. Please try again.");
            console.error(err);
          }
        }
        signOutBtn?.addEventListener("click", handleSignOut);
        inlineSignOutBtn?.addEventListener("click", handleSignOut);
      </script>
    </div>
  </body>
</html>
